train <- read.csv("train.csv")
test <- read.csv("test.csv")
# finding the dimension of our datasets
dim(train)
dim(test)
#Data cleaning for train
train$Alley <- as.character(train$Alley)
train$Alley[is.na(train$Alley)] <- "none"
train$Alley <- as.factor(train$Alley)
train$MasVnrType <- as.character(train$MasVnrType)
train$MasVnrType[is.na(train$MasVnrType)] <- "none"
train$MasVnrType <- as.factor(train$MasVnrType)
train$MasVnrArea[is.na(train$MasVnrArea)] <- 0
train$BsmtQual <- as.character(train$BsmtQual)
train$BsmtQual[is.na(train$BsmtQual)] <- "none"
train$BsmtQual <- as.factor(train$BsmtQual)
train$BsmtCond <- as.character(train$BsmtCond)
train$BsmtCond[is.na(train$BsmtCond)] <- "none"
train$BsmtCond <- as.factor(train$BsmtCond)
train$BsmtExposure <- as.character(train$BsmtExposure)
train$BsmtExposure[is.na(train$BsmtExposure)] <- "none"
train$BsmtExposure <- as.factor(train$BsmtExposure)
train$BsmtFinType1 <- as.character(train$BsmtFinType1)
train$BsmtFinType1[is.na(train$BsmtFinType1)] <- "none"
train$BsmtFinType1 <- as.factor(train$BsmtFinType1)
train$BsmtFinType2 <- as.character(train$BsmtFinType2)
train$BsmtFinType2[is.na(train$BsmtFinType2)] <- "none"
train$BsmtFinType2 <- as.factor(train$BsmtFinType2)
train$FireplaceQu <- as.character(train$FireplaceQu)
train$FireplaceQu[is.na(train$FireplaceQu)] <- "none"
train$FireplaceQu <- as.factor(train$FireplaceQu)
train$GarageType <- as.character(train$GarageType)
train$GarageType[is.na(train$GarageType)] <- "none"
train$GarageType <- as.factor(train$GarageType)
train$GarageFinish <- as.character(train$GarageFinish)
train$GarageFinish[is.na(train$GarageFinish)] <- "none"
train$GarageFinish <- as.factor(train$GarageFinish)
train$GarageQual <- as.character(train$GarageQual)
train$GarageQual[is.na(train$GarageQual)] <- "none"
train$GarageQual <- as.factor(train$GarageQual)
train$GarageCond <- as.character(train$GarageCond)
train$GarageCond[is.na(train$GarageCond)] <- "none"
train$GarageCond <- as.factor(train$GarageCond)
train$PoolQC <- as.character(train$PoolQC)
train$PoolQC[is.na(train$PoolQC)] <- "none"
train$PoolQC <- as.factor(train$PoolQC)
train$Fence <- as.character(train$Fence)
train$Fence[is.na(train$Fence)] <- "none"
train$Fence <- as.factor(train$Fence)
train$MiscFeature <- as.character(train$MiscFeature)
train$MiscFeature[is.na(train$MiscFeature)] <- "none"
train$MiscFeature <- as.factor(train$MiscFeature)
train$LotFrontage[is.na(train$LotFrontage)] <- 0
train <- train %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
train <- train %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
train$MSSubClass <- factor(train$MSSubClass)
train$OverallCond <- factor(train$OverallCond)
train$Fence <- factor(train$Fence)
train$Deck <- factor(train$Deck)
train$Porch <- factor(train$Porch)
#Data cleaning Test
test$Alley <- as.character(test$Alley)
test$Alley[is.na(test$Alley)] <- "none"
test$Alley <- as.factor(test$Alley)
test$MasVnrType <- as.character(test$MasVnrType)
test$MasVnrType[is.na(test$MasVnrType)] <- "none"
test$MasVnrType <- as.factor(test$MasVnrType)
test$MasVnrArea[is.na(test$MasVnrArea)] <- 0
test$BsmtQual <- as.character(test$BsmtQual)
test$BsmtQual[is.na(test$BsmtQual)] <- "none"
test$BsmtQual <- as.factor(test$BsmtQual)
test$BsmtCond <- as.character(test$BsmtCond)
test$BsmtCond[is.na(test$BsmtCond)] <- "none"
test$BsmtCond <- as.factor(test$BsmtCond)
test$BsmtExposure <- as.character(test$BsmtExposure)
test$BsmtExposure[is.na(test$BsmtExposure)] <- "none"
test$BsmtExposure <- as.factor(test$BsmtExposure)
test$BsmtFinType1 <- as.character(test$BsmtFinType1)
test$BsmtFinType1[is.na(test$BsmtFinType1)] <- "none"
test$BsmtFinType1 <- as.factor(test$BsmtFinType1)
test$BsmtFinType2 <- as.character(test$BsmtFinType2)
test$BsmtFinType2[is.na(test$BsmtFinType2)] <- "none"
test$BsmtFinType2 <- as.factor(test$BsmtFinType2)
test$FireplaceQu <- as.character(test$FireplaceQu)
test$FireplaceQu[is.na(test$FireplaceQu)] <- "none"
test$FireplaceQu <- as.factor(test$FireplaceQu)
test$GarageType <- as.character(test$GarageType)
test$GarageType[is.na(test$GarageType)] <- "none"
test$GarageType <- as.factor(test$GarageType)
test$GarageFinish <- as.character(test$GarageFinish)
test$GarageFinish[is.na(test$GarageFinish)] <- "none"
test$GarageFinish <- as.factor(test$GarageFinish)
test$GarageQual <- as.character(test$GarageQual)
test$GarageQual[is.na(test$GarageQual)] <- "none"
test$GarageQual <- as.factor(test$GarageQual)
test$GarageCond <- as.character(test$GarageCond)
test$GarageCond[is.na(test$GarageCond)] <- "none"
test$GarageCond <- as.factor(test$GarageCond)
test$PoolQC <- as.character(test$PoolQC)
test$PoolQC[is.na(test$PoolQC)] <- "none"
test$PoolQC <- as.factor(test$PoolQC)
test$Fence <- as.character(test$Fence)
test$Fence[is.na(test$Fence)] <- "none"
test$Fence <- as.factor(test$Fence)
test$MiscFeature <- as.character(test$MiscFeature)
test$MiscFeature[is.na(test$MiscFeature)] <- "none"
test$MiscFeature <- as.factor(test$MiscFeature)
test$LotFrontage[is.na(test$LotFrontage)] <- 0
test <- test %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
test <- test %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
test$MSSubClass <- factor(test$MSSubClass)
test$OverallCond <- factor(test$OverallCond)
test$Fence <- factor(test$Fence)
test$Deck <- factor(test$Deck)
test$Porch <- factor(test$Porch)
library(randomForest)
library(dplyr)
library(randomForest)
setwd("D:\\Program File\\Git\\git_projects\\INDE 498\\INDE498_Project")
train <- read.csv("train.csv")
test <- read.csv("test.csv")
View(train)
library(dplyr)
library(randomForest)
setwd("D:\\Program File\\Git\\git_projects\\INDE 498\\INDE498_Project")
train <- read.csv("train.csv")
test <- read.csv("test.csv")
# finding the dimension of our datasets
dim(train)
dim(test)
#Data cleaning for train
train$Alley <- as.character(train$Alley)
train$Alley[is.na(train$Alley)] <- "none"
train$Alley <- as.factor(train$Alley)
train$MasVnrType <- as.character(train$MasVnrType)
train$MasVnrType[is.na(train$MasVnrType)] <- "none"
train$MasVnrType <- as.factor(train$MasVnrType)
train$MasVnrArea[is.na(train$MasVnrArea)] <- 0
train$BsmtQual <- as.character(train$BsmtQual)
train$BsmtQual[is.na(train$BsmtQual)] <- "none"
train$BsmtQual <- as.factor(train$BsmtQual)
train$BsmtCond <- as.character(train$BsmtCond)
train$BsmtCond[is.na(train$BsmtCond)] <- "none"
train$BsmtCond <- as.factor(train$BsmtCond)
train$BsmtExposure <- as.character(train$BsmtExposure)
train$BsmtExposure[is.na(train$BsmtExposure)] <- "none"
train$BsmtExposure <- as.factor(train$BsmtExposure)
train$BsmtFinType1 <- as.character(train$BsmtFinType1)
train$BsmtFinType1[is.na(train$BsmtFinType1)] <- "none"
train$BsmtFinType1 <- as.factor(train$BsmtFinType1)
train$BsmtFinType2 <- as.character(train$BsmtFinType2)
train$BsmtFinType2[is.na(train$BsmtFinType2)] <- "none"
train$BsmtFinType2 <- as.factor(train$BsmtFinType2)
train$FireplaceQu <- as.character(train$FireplaceQu)
train$FireplaceQu[is.na(train$FireplaceQu)] <- "none"
train$FireplaceQu <- as.factor(train$FireplaceQu)
train$GarageType <- as.character(train$GarageType)
train$GarageType[is.na(train$GarageType)] <- "none"
train$GarageType <- as.factor(train$GarageType)
train$GarageFinish <- as.character(train$GarageFinish)
train$GarageFinish[is.na(train$GarageFinish)] <- "none"
train$GarageFinish <- as.factor(train$GarageFinish)
train$GarageQual <- as.character(train$GarageQual)
train$GarageQual[is.na(train$GarageQual)] <- "none"
train$GarageQual <- as.factor(train$GarageQual)
train$GarageCond <- as.character(train$GarageCond)
train$GarageCond[is.na(train$GarageCond)] <- "none"
train$GarageCond <- as.factor(train$GarageCond)
train$PoolQC <- as.character(train$PoolQC)
train$PoolQC[is.na(train$PoolQC)] <- "none"
train$PoolQC <- as.factor(train$PoolQC)
train$Fence <- as.character(train$Fence)
train$Fence[is.na(train$Fence)] <- "none"
train$Fence <- as.factor(train$Fence)
train$MiscFeature <- as.character(train$MiscFeature)
train$MiscFeature[is.na(train$MiscFeature)] <- "none"
train$MiscFeature <- as.factor(train$MiscFeature)
train$LotFrontage[is.na(train$LotFrontage)] <- 0
train <- train %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
train <- train %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence, YrSold, SalePrice) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
train$MSSubClass <- factor(train$MSSubClass)
train$OverallCond <- factor(train$OverallCond)
train$Fence <- factor(train$Fence)
train$Deck <- factor(train$Deck)
train$Porch <- factor(train$Porch)
unique(train$YrSold)
train.precrash <- train %>% filter(YrSold <= 2007)
train.postcrash <- train %>% filter(YrSold > 2007)
611+767
rm(test)
rm(train)
train.precrash <- train.precrash %>% select(-YrSold)
train.postcrash <- train.postcrash %>% select(-YrSold)
test.precrash <- test.precrash %>% select(-YrSold)
test.postcrash <- test.postcrash %>% select(-YrSold)
library(dplyr)
library(randomForest)
setwd("D:\\Program File\\Git\\git_projects\\INDE 498\\INDE498_Project")
train <- read.csv("train.csv")
test <- read.csv("test.csv")
# finding the dimension of our datasets
dim(train)
dim(test)
#Data cleaning for train
train$Alley <- as.character(train$Alley)
train$Alley[is.na(train$Alley)] <- "none"
train$Alley <- as.factor(train$Alley)
train$MasVnrType <- as.character(train$MasVnrType)
train$MasVnrType[is.na(train$MasVnrType)] <- "none"
train$MasVnrType <- as.factor(train$MasVnrType)
train$MasVnrArea[is.na(train$MasVnrArea)] <- 0
train$BsmtQual <- as.character(train$BsmtQual)
train$BsmtQual[is.na(train$BsmtQual)] <- "none"
train$BsmtQual <- as.factor(train$BsmtQual)
train$BsmtCond <- as.character(train$BsmtCond)
train$BsmtCond[is.na(train$BsmtCond)] <- "none"
train$BsmtCond <- as.factor(train$BsmtCond)
train$BsmtExposure <- as.character(train$BsmtExposure)
train$BsmtExposure[is.na(train$BsmtExposure)] <- "none"
train$BsmtExposure <- as.factor(train$BsmtExposure)
train$BsmtFinType1 <- as.character(train$BsmtFinType1)
train$BsmtFinType1[is.na(train$BsmtFinType1)] <- "none"
train$BsmtFinType1 <- as.factor(train$BsmtFinType1)
train$BsmtFinType2 <- as.character(train$BsmtFinType2)
train$BsmtFinType2[is.na(train$BsmtFinType2)] <- "none"
train$BsmtFinType2 <- as.factor(train$BsmtFinType2)
train$FireplaceQu <- as.character(train$FireplaceQu)
train$FireplaceQu[is.na(train$FireplaceQu)] <- "none"
train$FireplaceQu <- as.factor(train$FireplaceQu)
train$GarageType <- as.character(train$GarageType)
train$GarageType[is.na(train$GarageType)] <- "none"
train$GarageType <- as.factor(train$GarageType)
train$GarageFinish <- as.character(train$GarageFinish)
train$GarageFinish[is.na(train$GarageFinish)] <- "none"
train$GarageFinish <- as.factor(train$GarageFinish)
train$GarageQual <- as.character(train$GarageQual)
train$GarageQual[is.na(train$GarageQual)] <- "none"
train$GarageQual <- as.factor(train$GarageQual)
train$GarageCond <- as.character(train$GarageCond)
train$GarageCond[is.na(train$GarageCond)] <- "none"
train$GarageCond <- as.factor(train$GarageCond)
train$PoolQC <- as.character(train$PoolQC)
train$PoolQC[is.na(train$PoolQC)] <- "none"
train$PoolQC <- as.factor(train$PoolQC)
train$Fence <- as.character(train$Fence)
train$Fence[is.na(train$Fence)] <- "none"
train$Fence <- as.factor(train$Fence)
train$MiscFeature <- as.character(train$MiscFeature)
train$MiscFeature[is.na(train$MiscFeature)] <- "none"
train$MiscFeature <- as.factor(train$MiscFeature)
train$LotFrontage[is.na(train$LotFrontage)] <- 0
train <- train %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
train <- train %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence, YrSold, SalePrice) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
train$MSSubClass <- factor(train$MSSubClass)
train$OverallCond <- factor(train$OverallCond)
train$Fence <- factor(train$Fence)
train$Deck <- factor(train$Deck)
train$Porch <- factor(train$Porch)
#Split data into 2006-2007 and 2008-2010
train.precrash <- train %>% filter(YrSold <= 2007)
train.postcrash <- train %>% filter(YrSold > 2007)
train.precrash <- train.precrash %>% select(-YrSold)
train.postcrash <- train.postcrash %>% select(-YrSold)
#Data cleaning Test
test$Alley <- as.character(test$Alley)
test$Alley[is.na(test$Alley)] <- "none"
test$Alley <- as.factor(test$Alley)
test$MasVnrType <- as.character(test$MasVnrType)
test$MasVnrType[is.na(test$MasVnrType)] <- "none"
test$MasVnrType <- as.factor(test$MasVnrType)
test$MasVnrArea[is.na(test$MasVnrArea)] <- 0
test$BsmtQual <- as.character(test$BsmtQual)
test$BsmtQual[is.na(test$BsmtQual)] <- "none"
test$BsmtQual <- as.factor(test$BsmtQual)
test$BsmtCond <- as.character(test$BsmtCond)
test$BsmtCond[is.na(test$BsmtCond)] <- "none"
test$BsmtCond <- as.factor(test$BsmtCond)
test$BsmtExposure <- as.character(test$BsmtExposure)
test$BsmtExposure[is.na(test$BsmtExposure)] <- "none"
test$BsmtExposure <- as.factor(test$BsmtExposure)
test$BsmtFinType1 <- as.character(test$BsmtFinType1)
test$BsmtFinType1[is.na(test$BsmtFinType1)] <- "none"
test$BsmtFinType1 <- as.factor(test$BsmtFinType1)
test$BsmtFinType2 <- as.character(test$BsmtFinType2)
test$BsmtFinType2[is.na(test$BsmtFinType2)] <- "none"
test$BsmtFinType2 <- as.factor(test$BsmtFinType2)
test$FireplaceQu <- as.character(test$FireplaceQu)
test$FireplaceQu[is.na(test$FireplaceQu)] <- "none"
test$FireplaceQu <- as.factor(test$FireplaceQu)
test$GarageType <- as.character(test$GarageType)
test$GarageType[is.na(test$GarageType)] <- "none"
test$GarageType <- as.factor(test$GarageType)
test$GarageFinish <- as.character(test$GarageFinish)
test$GarageFinish[is.na(test$GarageFinish)] <- "none"
test$GarageFinish <- as.factor(test$GarageFinish)
test$GarageQual <- as.character(test$GarageQual)
test$GarageQual[is.na(test$GarageQual)] <- "none"
test$GarageQual <- as.factor(test$GarageQual)
test$GarageCond <- as.character(test$GarageCond)
test$GarageCond[is.na(test$GarageCond)] <- "none"
test$GarageCond <- as.factor(test$GarageCond)
test$PoolQC <- as.character(test$PoolQC)
test$PoolQC[is.na(test$PoolQC)] <- "none"
test$PoolQC <- as.factor(test$PoolQC)
test$Fence <- as.character(test$Fence)
test$Fence[is.na(test$Fence)] <- "none"
test$Fence <- as.factor(test$Fence)
test$MiscFeature <- as.character(test$MiscFeature)
test$MiscFeature[is.na(test$MiscFeature)] <- "none"
test$MiscFeature <- as.factor(test$MiscFeature)
test$LotFrontage[is.na(test$LotFrontage)] <- 0
test <- test %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
test <- test %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence, YrSold, SalePrice) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
test$MSSubClass <- factor(test$MSSubClass)
test$OverallCond <- factor(test$OverallCond)
test$Fence <- factor(test$Fence)
test$Deck <- factor(test$Deck)
test$Porch <- factor(test$Porch)
test.precrash <- test %>% filter(YrSold <= 2007)
test.postcrash <- test %>% filter(YrSold > 2007)
test.precrash <- test.precrash %>% select(-YrSold)
test.postcrash <- test.postcrash %>% select(-YrSold)
#Remove unneeded vairables
rm(test)
rm(train)
library(dplyr)
library(randomForest)
setwd("D:\\Program File\\Git\\git_projects\\INDE 498\\INDE498_Project")
train <- read.csv("train.csv")
test <- read.csv("test.csv")
# finding the dimension of our datasets
dim(train)
dim(test)
#Data cleaning for train
train$Alley <- as.character(train$Alley)
train$Alley[is.na(train$Alley)] <- "none"
train$Alley <- as.factor(train$Alley)
train$MasVnrType <- as.character(train$MasVnrType)
train$MasVnrType[is.na(train$MasVnrType)] <- "none"
train$MasVnrType <- as.factor(train$MasVnrType)
train$MasVnrArea[is.na(train$MasVnrArea)] <- 0
train$BsmtQual <- as.character(train$BsmtQual)
train$BsmtQual[is.na(train$BsmtQual)] <- "none"
train$BsmtQual <- as.factor(train$BsmtQual)
train$BsmtCond <- as.character(train$BsmtCond)
train$BsmtCond[is.na(train$BsmtCond)] <- "none"
train$BsmtCond <- as.factor(train$BsmtCond)
train$BsmtExposure <- as.character(train$BsmtExposure)
train$BsmtExposure[is.na(train$BsmtExposure)] <- "none"
train$BsmtExposure <- as.factor(train$BsmtExposure)
train$BsmtFinType1 <- as.character(train$BsmtFinType1)
train$BsmtFinType1[is.na(train$BsmtFinType1)] <- "none"
train$BsmtFinType1 <- as.factor(train$BsmtFinType1)
train$BsmtFinType2 <- as.character(train$BsmtFinType2)
train$BsmtFinType2[is.na(train$BsmtFinType2)] <- "none"
train$BsmtFinType2 <- as.factor(train$BsmtFinType2)
train$FireplaceQu <- as.character(train$FireplaceQu)
train$FireplaceQu[is.na(train$FireplaceQu)] <- "none"
train$FireplaceQu <- as.factor(train$FireplaceQu)
train$GarageType <- as.character(train$GarageType)
train$GarageType[is.na(train$GarageType)] <- "none"
train$GarageType <- as.factor(train$GarageType)
train$GarageFinish <- as.character(train$GarageFinish)
train$GarageFinish[is.na(train$GarageFinish)] <- "none"
train$GarageFinish <- as.factor(train$GarageFinish)
train$GarageQual <- as.character(train$GarageQual)
train$GarageQual[is.na(train$GarageQual)] <- "none"
train$GarageQual <- as.factor(train$GarageQual)
train$GarageCond <- as.character(train$GarageCond)
train$GarageCond[is.na(train$GarageCond)] <- "none"
train$GarageCond <- as.factor(train$GarageCond)
train$PoolQC <- as.character(train$PoolQC)
train$PoolQC[is.na(train$PoolQC)] <- "none"
train$PoolQC <- as.factor(train$PoolQC)
train$Fence <- as.character(train$Fence)
train$Fence[is.na(train$Fence)] <- "none"
train$Fence <- as.factor(train$Fence)
train$MiscFeature <- as.character(train$MiscFeature)
train$MiscFeature[is.na(train$MiscFeature)] <- "none"
train$MiscFeature <- as.factor(train$MiscFeature)
train$LotFrontage[is.na(train$LotFrontage)] <- 0
train <- train %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
train <- train %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence, YrSold, SalePrice) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
train$MSSubClass <- factor(train$MSSubClass)
train$OverallCond <- factor(train$OverallCond)
train$Fence <- factor(train$Fence)
train$Deck <- factor(train$Deck)
train$Porch <- factor(train$Porch)
#Split data into 2006-2007 and 2008-2010
train.precrash <- train %>% filter(YrSold <= 2007)
train.postcrash <- train %>% filter(YrSold > 2007)
train.precrash <- train.precrash %>% select(-YrSold)
train.postcrash <- train.postcrash %>% select(-YrSold)
#Data cleaning Test
test$Alley <- as.character(test$Alley)
test$Alley[is.na(test$Alley)] <- "none"
test$Alley <- as.factor(test$Alley)
test$MasVnrType <- as.character(test$MasVnrType)
test$MasVnrType[is.na(test$MasVnrType)] <- "none"
test$MasVnrType <- as.factor(test$MasVnrType)
test$MasVnrArea[is.na(test$MasVnrArea)] <- 0
test$BsmtQual <- as.character(test$BsmtQual)
test$BsmtQual[is.na(test$BsmtQual)] <- "none"
test$BsmtQual <- as.factor(test$BsmtQual)
test$BsmtCond <- as.character(test$BsmtCond)
test$BsmtCond[is.na(test$BsmtCond)] <- "none"
test$BsmtCond <- as.factor(test$BsmtCond)
test$BsmtExposure <- as.character(test$BsmtExposure)
test$BsmtExposure[is.na(test$BsmtExposure)] <- "none"
test$BsmtExposure <- as.factor(test$BsmtExposure)
test$BsmtFinType1 <- as.character(test$BsmtFinType1)
test$BsmtFinType1[is.na(test$BsmtFinType1)] <- "none"
test$BsmtFinType1 <- as.factor(test$BsmtFinType1)
test$BsmtFinType2 <- as.character(test$BsmtFinType2)
test$BsmtFinType2[is.na(test$BsmtFinType2)] <- "none"
test$BsmtFinType2 <- as.factor(test$BsmtFinType2)
test$FireplaceQu <- as.character(test$FireplaceQu)
test$FireplaceQu[is.na(test$FireplaceQu)] <- "none"
test$FireplaceQu <- as.factor(test$FireplaceQu)
test$GarageType <- as.character(test$GarageType)
test$GarageType[is.na(test$GarageType)] <- "none"
test$GarageType <- as.factor(test$GarageType)
test$GarageFinish <- as.character(test$GarageFinish)
test$GarageFinish[is.na(test$GarageFinish)] <- "none"
test$GarageFinish <- as.factor(test$GarageFinish)
test$GarageQual <- as.character(test$GarageQual)
test$GarageQual[is.na(test$GarageQual)] <- "none"
test$GarageQual <- as.factor(test$GarageQual)
test$GarageCond <- as.character(test$GarageCond)
test$GarageCond[is.na(test$GarageCond)] <- "none"
test$GarageCond <- as.factor(test$GarageCond)
test$PoolQC <- as.character(test$PoolQC)
test$PoolQC[is.na(test$PoolQC)] <- "none"
test$PoolQC <- as.factor(test$PoolQC)
test$Fence <- as.character(test$Fence)
test$Fence[is.na(test$Fence)] <- "none"
test$Fence <- as.factor(test$Fence)
test$MiscFeature <- as.character(test$MiscFeature)
test$MiscFeature[is.na(test$MiscFeature)] <- "none"
test$MiscFeature <- as.factor(test$MiscFeature)
test$LotFrontage[is.na(test$LotFrontage)] <- 0
test <- test %>% filter(!is.na(Electrical) & !is.na(GarageYrBlt))
#Keeping only needed columns and adding binary variables for certain features
test <- test %>% select(MSSubClass, Street, Neighborhood, HouseStyle, LotArea, YearBuilt, YearRemodAdd, Utilities, RoofMatl, Exterior1st,
OverallCond, Foundation, BsmtFinType1, FullBath, BsmtFullBath, HalfBath, BsmtHalfBath, Fireplaces,
GarageType, GarageCars, GarageArea, CentralAir, Heating, TotalBsmtSF, WoodDeckSF, OpenPorchSF, EnclosedPorch,
Fence, YrSold, SalePrice) %>%
mutate(NumFullBath = FullBath+BsmtFullBath, NumHalfBath = HalfBath+BsmtHalfBath, Deck = ifelse(WoodDeckSF > 0, 1, 0),
Porch = ifelse(OpenPorchSF+EnclosedPorch>0,1,0), Fence = ifelse(Fence=="none",0,1)) %>%
select(-FullBath, -BsmtFullBath, -HalfBath, -BsmtHalfBath, -WoodDeckSF, -OpenPorchSF, -EnclosedPorch)
#Coercing proper data type
test$MSSubClass <- factor(test$MSSubClass)
test$OverallCond <- factor(test$OverallCond)
test$Fence <- factor(test$Fence)
test$Deck <- factor(test$Deck)
test$Porch <- factor(test$Porch)
test.precrash <- test %>% filter(YrSold <= 2007)
test.postcrash <- test %>% filter(YrSold > 2007)
test.precrash <- test.precrash %>% select(-YrSold)
test.postcrash <- test.postcrash %>% select(-YrSold)
View(test)
rf.realistic <- randomForest(SalePrice~., data=train, ntree=120)
lm.realistic <- lm(SalePrice~., data=train)
summary(lm.realistic)
